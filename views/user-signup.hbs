<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="author" content="Muhamad Nauval Azhar">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta name="description" content="This is a login page template based on Bootstrap 5">
	<title>Bootstrap 5 Login Page</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
<link rel="stylesheet" href="/stylesheets/signup.css">

</head>

<body>
	
    <div class="wrapper ">
        <div class="container main ">
            <div class="row mt-3 mt-md-0 mt-lg-5 mb-lg-4">
                <div class="col-md-6 d-none d-md-block side-image">
                    <!-------Image-------->
                    <img src="images/white.png" alt="">
                    <div class="text">
                        <p class="d-none d-md-block">"Fashion is the armor to survive the reality of everyday life." <i> â€” Bill Cunningham</i></p>
                    </div>
                </div>
                <div class="col-md-6 right " > 
                     <div class="input-box">
                        <header>Create account</header>
                        <form id="signupe" name="signupe" action="/signupcheck" method="post">
  <div class="input-field">
    <input id="username" type="text" class="input" name="username" autocomplete="off">
    <label for="username">Username</label>
  </div>
  <div class="input-field">
    <input id="name" type="text" class="input" name="name" autocomplete="off">
    <label for="name">Name</label>
  </div>
  <div class="input-field">
    <input id="email" type="text" class="input" name="email" autocomplete="off">
    <label for="email">Email</label>
  </div>
  <div class="input-field">
    <input id="phone" type="number" class="input" name="phone" autocomplete="off">
    <label for="phone">Phone</label>
  </div>
  <div class="input-field">
    <input id="password" type="password" class="input" name="password">
    <label for="password">Password</label>
  </div>
  <div class="input-field">
    <input id="reenterpassword" type="password" class="input" name="reenterpassword">
    <label for="reenterpassword">Confirm Password</label>
  </div>
  <p class="text-danger" id="signupErr"></p>
  <div class="input-field">
    <input type="submit" class="submit" value="Sign Up">
  </div>
</form>
                        <div class="signin">
                            <span>Already have an account? <a href="/login">Log in here</a></span><br>
                            <a href="/" class="text-center">Home</a>
                            
                        </div>
                     </div>
                </div>
            </div>
        </div>
    </div>


	{{!-- <script src="js/login.js"></script> --}}
</body>

<script>
  const form = document.getElementById('signupe');
  const usernameInput = document.getElementById('username');
  const nameInput = document.getElementById('name');
  const emailInput = document.getElementById('email');
  const phoneInput = document.getElementById('phone');
  const passwordInput = document.getElementById('password');
  const confirmPasswordInput = document.getElementById('reenterpassword');
  const errorElement = document.getElementById('signupErr');

  form.addEventListener('submit', function(event) {
    event.preventDefault();
    let isValid = true;
    const username = usernameInput.value.trim();
    const name = nameInput.value.trim();
    const email = emailInput.value.trim();
    const phone = phoneInput.value.trim();
    const password = passwordInput.value.trim();
    const confirmPassword = confirmPasswordInput.value.trim();

    // Validate username
    const usernameRegex = /^[a-zA-Z][a-zA-Z0-9_-]{2,15}$/

    if (!usernameRegex.test(username)) {
      isValid = false;
      errorElement.innerHTML = '<p>Please enter a valid username. It should have alphanumeric characters, hyphens, or underscores and be between 5 to 20 characters long.</p>';
      usernameInput.focus();
      return;
    }

    // Validate name
    const nameRegex = /^[a-zA-Z ]{2,30}$/;
    if (!nameRegex.test(name)) {
      isValid = false;
      errorElement.innerHTML = '<p>Please enter a valid name. It should contain only alphabets and be between 2 to 30 characters long.</p>';
      nameInput.focus();
      return;
    }

    // Validate email format
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      isValid = false;
      errorElement.innerHTML = '<p>Please enter a valid email address.</p>';
      emailInput.focus();
      return;
    }

    // Validate phone format
    const phoneRegex = /^\d{10}$/;
    if (!phoneRegex.test(phone)) {
      isValid = false;
      errorElement.innerHTML = '<p>Please enter a valid phone number. It should contain exactly 10 digits.</p>';
      phoneInput.focus();
      return;
    }

    // Validate password format
    const passwordRegex = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;
    if (!passwordRegex.test(password)) {
      isValid = false;
      errorElement.innerHTML = '<p>Please enter a password with at least 8 characters, including uppercase and lowercase letters and at least one number.</p>';
      passwordInput.focus();
      return;
    }

    // Validate confirm password
    if (password !== confirmPassword) {
      isValid = false;
      errorElement.innerHTML = '<p>Passwords do not match.</p>';
      confirmPasswordInput.focus();
      return;
    }

    // If all validations pass, submit the form
    if (isValid) {
      form.submit();
    }
  });
</script>


</html>
